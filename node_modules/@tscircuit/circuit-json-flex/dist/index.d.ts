import { FlexBoxOptions } from '@tscircuit/miniflex';
import { AnyCircuitElement } from 'circuit-json';

declare function layoutCircuitJsonWithFlex(circuitJson: AnyCircuitElement[], options?: Partial<FlexBoxOptions & {
    inferContainerSize?: boolean;
}>): AnyCircuitElement[];

type Size = {
    width: number;
    height: number;
};

/**
 * Compute the smallest possible dimensions (width & height) for a flex container
 * so that **all** children fit without overflowing _before_ any flex grow / shrink
 * is applied. This is a very lightweight approximation – it only considers the
 * children's explicit `width`/`height` (or `flexBasis`) plus the configured gaps
 * and the main-axis stacking rules derived from the flex direction.
 *
 * This function purposely does **not** try to implement the full flexbox sizing
 * algorithm – we only need a quick estimate so that `RootFlexBox` can be
 * instantiated even when the user did not provide explicit dimensions for the
 * container (e.g. when laying out PCB components directly on the board level
 * instead of inside a sub-circuit).
 */
declare function getMinimumFlexContainer(children: Array<{
    width: number;
    height: number;
}>, options?: Partial<FlexBoxOptions>): Size;

export { Size, getMinimumFlexContainer, layoutCircuitJsonWithFlex };
